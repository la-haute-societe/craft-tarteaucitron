{% import "_includes/forms" as forms %}
{% import "tarteaucitron/settings/macros" as macros %}

<div class="bar bar--secondary">
    {{ 'Include this code in all pages where you want tarteaucitron to be loaded:'|t('tarteaucitron')|raw }}<br>
    {{ forms.textAreaField({
        id: 'tarteaucitronInitCallExample',
        value: "{{ craft.tarteaucitron.initScript }}",
        rows: 1,
        disabled: true
    }) }}
</div>


<div class="flex align-start">
    <div class="fit-container">
        {{ forms.textField({
            label: "Privacy policy URL"|t('tarteaucitron'),
            id: 'privacyUrl',
            name: 'privacyUrl',
            value: settings.privacyUrl,
            required: true,
            disabled: 'privacyUrl' in overrides,
            warning: 'privacyUrl' in overrides ? macros.configWarning('privacyUrl'),
            errors: settings.getErrors('privacyUrl')
        }) }}


        {{ forms.textField({
            label: "Hashtag"|t('tarteaucitron'),
            id: 'hashtag',
            name: 'hashtag',
            instructions: "Open panel automatically with this hashtag in URL"|t('tarteaucitron'),
            value: settings.hashtag,
            required: true,
            disabled: 'hashtag' in overrides,
            warning: 'hashtag' in overrides ? macros.configWarning('hashtag'),
            errors: settings.getErrors('hashtag')
        }) }}

        {{ forms.textField({
            label: "Cookie name"|t('tarteaucitron'),
            id: 'cookieName',
            name: 'cookieName',
            instructions: 'Name of the cookie used to store user decisions'|t('tarteaucitron'),
            value: settings.cookieName,
            required: true,
            disabled: 'cookieName' in overrides,
            warning: 'cookieName' in overrides ? macros.configWarning('cookieName'),
            errors: settings.getErrors('cookieName')
        }) }}


        {{ forms.selectField({
            label: "Orientation"|t('tarteaucitron'),
            id: 'orientation',
            name: 'orientation',
            instructions: "Banner position"|t('tarteaucitron'),
            value: settings.orientation,
            required: true,
            options: [
                {
                    'label': 'Top'|t('tarteaucitron'),
                    'value': 'top'
                },
                {
                    'label': 'Bottom'|t('tarteaucitron'),
                    'value': 'bottom'
                },
                {
                    'label': 'Middle'|t('tarteaucitron'),
                    'value': 'middle'
                },
            ],
            disabled: 'orientation' in overrides,
            warning: 'orientation' in overrides ? macros.configWarning('orientation'),
            errors: settings.getErrors('orientation')
        }) }}


        {{ forms.lightswitchField({
            label: "Show small alert"|t('tarteaucitron'),
            id: 'showAlertSmall',
            name: 'showAlertSmall',
            instructions: "Display the small banner at the bottom right"|t('tarteaucitron'),
            on: settings.showAlertSmall,
            toggle: true,
            required: true,
            disabled: 'showAlertSmall' in overrides,
            warning: 'showAlertSmall' in overrides ? macros.configWarning('showAlertSmall'),
            errors: settings.getErrors('showAlertSmall')
        }) }}

        {{ forms.lightswitchField({
            label: "Cookies list"|t('tarteaucitron'),
            id: 'cookieslist',
            name: 'cookieslist',
            instructions: "View the list of installed cookies"|t('tarteaucitron'),
            on: settings.cookieslist,
            toggle: true,
            required: true,
            disabled: 'cookieslist' in overrides,
            warning: 'cookieslist' in overrides ? macros.configWarning('cookieslist'),
            errors: settings.getErrors('cookieslist')
        }) }}


        {{ forms.lightswitchField({
            label: "Show icon"|t('tarteaucitron'),
            id: 'showIcon',
            name: 'showIcon',
            instructions: "Show cookie icon to manage cookies"|t('tarteaucitron'),
            on: settings.showIcon,
            toggle: true,
            required: true,
            disabled: 'showIcon' in overrides,
            warning: 'showIcon' in overrides ? macros.configWarning('showIcon'),
            errors: settings.getErrors('showIcon')
        }) }}

        {{ forms.selectField({
            label: "Icon position"|t('tarteaucitron'),
            id: 'iconPosition',
            name: 'iconPosition',
            value: settings.iconPosition,
            required: true,
            options: [
                {
                    'label': 'Bottom right'|t('tarteaucitron'),
                    'value': 'BottomRight',
                },
                {
                    'label': 'Bottom left'|t('tarteaucitron'),
                    'value': 'BottomLeft',
                },
                {
                    'label': 'Top right'|t('tarteaucitron'),
                    'value': 'TopRight',
                },
                {
                    'label': 'Top left'|t('tarteaucitron'),
                    'value': 'TopLeft',
                },
            ],
            disabled: 'iconPosition' in overrides,
            warning: 'iconPosition' in overrides ? macros.configWarning('iconPosition'),
            errors: settings.getErrors('iconPosition')
        }) }}


        {{ forms.lightswitchField({
            label: "Adblocker"|t('tarteaucitron'),
            id: 'adblocker',
            name: 'adblocker',
            instructions: "Display a message if an adblocker is detected"|t('tarteaucitron'),
            on: settings.adblocker,
            toggle: true,
            required: true,
            disabled: 'adblocker' in overrides,
            warning: 'adblocker' in overrides ? macros.configWarning('adblocker'),
            errors: settings.getErrors('adblocker')
        }) }}


        {{ forms.lightswitchField({
            label: "Deny all CTA"|t('tarteaucitron'),
            id: 'denyAllCta',
            name: 'denyAllCta',
            instructions: "Show the deny all button"|t('tarteaucitron'),
            on: settings.denyAllCta,
            toggle: true,
            required: true,
            disabled: 'denyAllCta' in overrides,
            warning: 'denyAllCta' in overrides ? macros.configWarning('denyAllCta'),
            errors: settings.getErrors('denyAllCta')
        }) }}

        {{ forms.lightswitchField({
            label: "Accept all CTA"|t('tarteaucitron'),
            id: 'acceptAllCta',
            name: 'acceptAllCta',
            instructions: "Show the accept all button when highPrivacy on"|t('tarteaucitron'),
            on: settings.acceptAllCta,
            toggle: true,
            required: true,
            disabled: 'acceptAllCta' in overrides,
            warning: 'acceptAllCta' in overrides ? macros.configWarning('acceptAllCta'),
            errors: settings.getErrors('acceptAllCta')
        }) }}

        {{ forms.lightswitchField({
            label: "High Privacy"|t('tarteaucitron'),
            id: 'highPrivacy',
            name: 'highPrivacy',
            instructions: "HIGHLY RECOMMANDED Disable auto consent"|t('tarteaucitron'),
            on: settings.highPrivacy,
            toggle: true,
            required: true,
            disabled: 'highPrivacy' in overrides,
            warning: 'highPrivacy' in overrides ? macros.configWarning('highPrivacy'),
            errors: settings.getErrors('highPrivacy')
        }) }}
    </div>

    <div class="fit-container">
        {{ forms.lightswitchField({
            label: "Handle browser DNT request"|t('tarteaucitron'),
            id: 'handleBrowserDNTRequest',
            name: 'handleBrowserDNTRequest',
            instructions: "Respond to the DoNotTrack request"|t('tarteaucitron'),
            on: settings.handleBrowserDNTRequest,
            toggle: true,
            required: true,
            disabled: 'handleBrowserDNTRequest' in overrides,
            warning: 'handleBrowserDNTRequest' in overrides ? macros.configWarning('handleBrowserDNTRequest'),
            errors: settings.getErrors('handleBrowserDNTRequest')
        }) }}

        {{ forms.lightswitchField({
            label: "Remove credit"|t('tarteaucitron'),
            id: 'removeCredit',
            name: 'removeCredit',
            instructions: "Delete the link to the source"|t('tarteaucitron'),
            on: settings.removeCredit,
            toggle: true,
            required: true,
            disabled: 'removeCredit' in overrides,
            warning: 'removeCredit' in overrides ? macros.configWarning('removeCredit'),
            errors: settings.getErrors('removeCredit')
        }) }}

        {{ forms.lightswitchField({
            label: "More info link"|t('tarteaucitron'),
            id: 'moreInfoLink',
            name: 'moreInfoLink',
            instructions: "Show more info link"|t('tarteaucitron'),
            on: settings.moreInfoLink,
            toggle: true,
            required: true,
            disabled: 'moreInfoLink' in overrides,
            warning: 'moreInfoLink' in overrides ? macros.configWarning('moreInfoLink'),
            errors: settings.getErrors('moreInfoLink')
        }) }}

        {{ forms.lightswitchField({
            label: "Use external CSS"|t('tarteaucitron'),
            id: 'useExternalCss',
            name: 'useExternalCss',
            instructions: "If enabled, the tarteaucitron CSS file will not be loaded."|t('tarteaucitron'),
            on: settings.useExternalCss,
            toggle: true,
            required: true,
            disabled: 'useExternalCss' in overrides,
            warning: 'useExternalCss' in overrides ? macros.configWarning('useExternalCss'),
            errors: settings.getErrors('useExternalCss')
        }) }}


        {{ forms.textField({
            label: "Cookie domain"|t('tarteaucitron'),
            id: 'cookieDomain',
            name: 'cookieDomain',
            instructions: "[Optional] Domain name on which the cookie will be placed (for multisites / subdomains)"|t('tarteaucitron'),
            value: settings.cookieDomain,
            disabled: 'cookieDomain' in overrides,
            warning: 'cookieDomain' in overrides ? macros.configWarning('cookieDomain'),
            errors: settings.getErrors('cookieDomain')
        }) }}

        {{ forms.textField({
            label: "Read more link"|t('tarteaucitron'),
            id: 'readMoreLink',
            name: 'readMoreLink',
            instructions: "[Optional] Change the default read more link pointing to tarteaucitron.io"|t('tarteaucitron'),
            value: settings.readMoreLink,
            disabled: 'readMoreLink' in overrides,
            warning: 'readMoreLink' in overrides ? macros.configWarning('readMoreLink'),
            errors: settings.getErrors('readMoreLink')
        }) }}

        {{ forms.lightswitchField({
            label: "Mandatory"|t('tarteaucitron'),
            id: 'mandatory',
            name: 'mandatory',
            instructions: "Show a message about mandatory cookies"|t('tarteaucitron'),
            on: settings.mandatory,
            toggle: true,
            required: true,
            disabled: 'mandatory' in overrides,
            warning: 'mandatory' in overrides ? macros.configWarning('mandatory'),
            errors: settings.getErrors('mandatory')
        }) }}


        {{ forms.textAreaField({
            label: "Custom CSS"|t('tarteaucitron'),
            id: 'customCss',
            name: 'customCss',
            instructions: "Set custom CSS for tarteaucitron.js"|t('tarteaucitron'),
            value: settings.customCss,
            disabled: 'customCss' in overrides,
            warning: 'customCss' in overrides ? macros.configWarning('customCss'),
            errors: settings.getErrors('customCss')
        }) }}
    </div>
</div>
