{% embed "tarteaucitron-js/settings/services/template.twig" with {"id": "google-tag-manager"} %}
    {% import "_includes/forms" as forms %}
    {% import "tarteaucitron-js/settings/macros" as macros %}

    {% block name %}Google Tag Manager{% endblock %}

    {% block enable %}
        {{ forms.lightswitchField({
            id: 'isGoogleTagManagerEnabled',
            name: 'isGoogleTagManagerEnabled',
            on: settings.isGoogleTagManagerEnabled,
            toggle: true,
            disabled: 'isGoogleTagManagerEnabled' in overrides,
            warning: 'isGoogleTagManagerEnabled' in overrides ? macros.configWarning('isGoogleTagManagerEnabled'),
            errors: settings.getErrors('isGoogleTagManagerEnabled')
        }) }}
    {% endblock %}

    {% block options %}
        {{ forms.textField({
            label: "Google Tag managers ID"|t,
            id: 'googleTagManagerId',
            name: 'googleTagManagerId',
            value: settings.googleTagManagerId,
            required: true,
            disabled: 'googleTagManagerId' in overrides,
            warning: 'googleTagManagerId' in overrides ? macros.configWarning('googleTagManagerId'),
            errors: settings.getErrors('googleTagManagerId')
        }) }}

    {% endblock %}
{% endembed %}